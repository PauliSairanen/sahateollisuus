(this.webpackJsonpwebadmin=this.webpackJsonpwebadmin||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},124:function(e,a){},125:function(e,a){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},133:function(e,a,t){},137:function(e,a,t){},138:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},142:function(e,a,t){},144:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=(t(95),t(6)),o=(t(96),t(8)),i=t.n(o),m=t(16),s=t(31),u=t(19),d=t(75),p=t(26),f=t(24),E=t(23),g=t(10),v=t(12),h=t.n(v),y="https://sahat.lamk.fi",b=function(e){var a=Object(n.useState)({}),t=Object(c.a)(a,2),r=t[0],o=t[1];localStorage.setItem("Form",r);var v=Object(n.useState)(""),b=Object(c.a)(v,2),C=b[0],x=b[1],k=y,S=!0,O=function(e){o(Object(s.a)({},r,Object(m.a)({},e.target.name,e.target.value)))};return l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement(u.a,null,l.a.createElement(E.a,{className:"LoginScreen",autoComplete:"off"},l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Username"),l.a.createElement(E.a.Control,{type:"text",name:"un",onChange:O})),l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,{type:"password",name:"pw",onChange:O}),l.a.createElement(E.a.Text,{className:"text-danger"},C)),l.a.createElement(g.a,{onClick:function(a){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S){t.next=11;break}if(a.preventDefault(),!("un"in r&&"pw"in r)){t.next=10;break}return S=!1,x("Processing ..."),t.next=7,i.a.awrap(h.a.post(k+"/adminLogin",{username:r.un,password:r.pw}).then((function(a){S=!0,x("Success"),e.visibility(!1),localStorage.setItem("Session",a.data.token),e.changeContent("AdminScreen"),e.return(e.EventID)})).catch((function(e){S=!0,e.toString().includes("401")&&x("Incorrect username and/or password")})));case 7:S=!0,t.next=11;break;case 10:x("Please input username and password");case 11:case"end":return t.stop()}}))}},"Login"))))))},C=function(e){var a;function t(a){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:"delete"===a.target.name?window.confirm('Are you sure you want to delete event "'.concat(e.name,'"?'))&&e.delet(e.id):"edit"===a.target.name&&e.edit(e.id);case 1:case"end":return t.stop()}}))}return a=e.img.includes("https")?e.img:"https://sahat.lamk.fi"+"/public/".concat(e.id,"/").concat(e.img),l.a.createElement(u.a,{style:{width:"18rem",backgroundColor:"".concat("visible"===e.visibility?"white":"#e0e0e0")}},e.img?l.a.createElement(u.a.Img,{className:"rounded mb-0",variant:"top",src:a,style:{border:"5px solid ".concat(e.color)}}):null,l.a.createElement(u.a.Body,null,l.a.createElement(u.a.Title,null,e.name),l.a.createElement(u.a.Link,{href:"#",name:"edit",className:"text-secondary",onClick:t},"Edit"),l.a.createElement(u.a.Link,{href:"#",name:"delete",className:"text-danger",onClick:t},"Delete")))},x=t(46),k=(t(117),function(e){return l.a.createElement(g.a,{className:"addButton",id:e.id,name:e.name,onClick:e.onClick,style:e.style},l.a.createElement("div",{className:"addButtonTextContainer"},l.a.createElement("p",{className:"addButtonText",id:e.id,name:e.name},"+")))}),S=t(32),O=function(e){var a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],o=t[1],m=y,s=Object(n.useState)([]),d=Object(c.a)(s,2),p=d[0],f=d[1],E=Object(n.useState)([]),v=Object(c.a)(E,2),O=v[0],N=v[1],F=Object(n.useState)(""),T=Object(c.a)(F,2),w=T[0];T[1];function I(){var a;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.a.get(m+"/findEventsAdmin",{headers:{Authorization:"Bearer "+e.readSession()}}),t.abrupt("return",a.then((function(e){return e.data})).catch((function(e){return o(!0),[]})));case 2:case"end":return t.stop()}}))}null===e.readSession()&&(console.log("Never should have come here."),e.changeContent("LoginScreen"));var D=function(a){return h.a.post(m+"/findEvent",{id:a},{headers:{Authorization:"Bearer "+e.readSession()}}).then((function(e){return e.data})).catch((function(e){}))},j=function(a){return h.a.post(m+"/deleteEvent",{id:a},{headers:{Authorization:"Bearer "+e.readSession()}}).then((function(e){return L(),e.data})).catch((function(e){o(!0),f([])}))};function L(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,i.a.awrap(I());case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}))}Object(n.useEffect)((function(){var a=p.slice(0).reverse().map((function(a,t){return a.metadata.eventName.includes(w)?l.a.createElement("div",{key:t},l.a.createElement(C,{name:a.metadata.eventName,id:a._id,color:a.metadata.colorScheme,visibility:a.metadata.visibility,delet:j,edit:function(a){e.changeID(a)},img:a.metadata.eventImage})):null}));N(a)}),[p]),Object(n.useEffect)((function(){L()}),[w]),Object(n.useEffect)((function(){L(),window.scrollTo(0,0)}),[]);var z=Object(n.useState)(!1),P=Object(c.a)(z,2),U=P[0],B=P[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{show:U,onHide:function(){B(!1)}},l.a.createElement(S.a.Header,{closeButton:!0},l.a.createElement(S.a.Title,null,"About this software")),l.a.createElement(S.a.Body,null,l.a.createElement("p",null,"Made by Simo Wesa, Pauli Sairanen, Mikael Petrow, Matti Welin and Henri Koukka at LAB University of Applied Sciences, in cooperation with Finnish Sawmills Association.")),l.a.createElement(S.a.Footer,null,l.a.createElement("p",null,"Version: 1.0 (Last updated: 14/08/2020)"),l.a.createElement(g.a,{onClick:function(){B(!1)},variant:"primary"},"Close"))),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},l.a.createElement(g.a,{onClick:function(){B(!0)},style:{position:"absolute",left:"30px"},variant:"outline-success"},"About"),l.a.createElement(x.a,{src:"https://sahateollisuus.com/wp-content/uploads/2019/03/st_www_logoetu.jpg",width:"30%"}),l.a.createElement(g.a,{style:{position:"absolute",right:"30px"},variant:"outline-success",onClick:function(){e.changeSession(""),e.changeContent("LoginScreen")}},"Logout")),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"}},l.a.createElement(k,{id:"7",onClick:function(a){return function(a){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!==a.target.id){t.next=8;break}return t.t0=f,t.next=4,i.a.awrap(I());case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=39;break;case 8:if("1"!==a.target.id){t.next=12;break}o(!0),t.next=39;break;case 12:if("2"!==a.target.id){t.next=16;break}e.changeContent("AdminScreen"),t.next=39;break;case 16:if("3"!==a.target.id){t.next=21;break}return t.next=19,i.a.awrap(h.a.post(m+"/findEvent",{id:"5e8dfbce0482b55473e7988b"},{headers:{Authorization:"Bearer "+e.readSession()}}).then((function(e){})).catch((function(e){})));case 19:t.next=39;break;case 21:if("5"!==a.target.id){t.next=26;break}I().then((function(e){})).catch((function(e){})),t.next=39;break;case 26:if("6"!==a.target.id){t.next=31;break}D("5e8dfbce0482b55473e7988b").then((function(e){})).catch((function(e){})),t.next=39;break;case 31:if("7"!==a.target.id){t.next=38;break}return t.next=34,i.a.awrap(e.changeID(null));case 34:return t.next=36,i.a.awrap(e.changeContent("CreateScreen"));case 36:t.next=39;break;case 38:a.target.id;case 39:case"end":return t.stop()}}))}(a)}}),O.length>0?O:l.a.createElement("p",{style:{alignSelf:"center",justifySelf:"center"}},"Cannot connect to the server")),r?l.a.createElement(u.a,{id:"ReAuth",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("p",{id:"ReAuthText"},"Authecation token invalid. Please reauthenticate"),l.a.createElement(b,{changeContent:function(a){e.changeContent(a)},readSession:function(){e.readSession()},changeSession:function(a){e.changeSession(a)},visibility:o,return:function(){window.location.reload()}})):null)},N=t(79),F=t(77),T=t(78),w=(t(118),t(161)),I=t(159),D=function(e){var a=e.form;return Object(n.useEffect)((function(){a=e.form})),l.a.createElement(E.a,{onChange:function(a){return e.onChange(a)}},l.a.createElement(u.a,null,l.a.createElement("div",{className:"bigDiv"},l.a.createElement(N.a,null,"Welcome Text"),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Chapter 1"),l.a.createElement(T.a,{as:"textarea",size:"sm",name:"bodyText1",defaultValue:a.bodyText1})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Chapter 2"),l.a.createElement(T.a,{as:"textarea",size:"sm",name:"bodyText2",defaultValue:a.bodyText2})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Chapter 3"),l.a.createElement(T.a,{as:"textarea",size:"sm",name:"bodyText3",defaultValue:a.bodyText3})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Chapter 4"),l.a.createElement(T.a,{as:"textarea",size:"sm",name:"bodyText4",defaultValue:a.bodyText4})))))),l.a.createElement(u.a,null,l.a.createElement("div",{className:"bigDiv"},l.a.createElement(N.a,null,"Venue Information"),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Name of the Venue"),l.a.createElement(T.a,{size:"sm",name:"placeName",defaultValue:a.placeName}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Address of the Venue"),l.a.createElement(T.a,{size:"sm",name:"placeAddress",defaultValue:a.placeAddress})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Email of the Venue"),l.a.createElement(T.a,{size:"sm",name:"placeEmail",defaultValue:a.placeEmail}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Phone of the Venue"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Include area code. Example: "+358 12345678"')},l.a.createElement(T.a,{size:"sm",name:"placePhone",defaultValue:a.placePhone}))))))),l.a.createElement(u.a,null,l.a.createElement("div",{className:"bigDiv"},l.a.createElement(N.a,null,"More Information"),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Event Website"),l.a.createElement(T.a,{size:"sm",name:"MiWebsite",defaultValue:a.MiWebsite}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Event Organizer"),l.a.createElement(T.a,{size:"sm",name:"MiOrg",defaultValue:a.MiOrg})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Email of the Organizer"),l.a.createElement(T.a,{size:"sm",name:"MiEmail",defaultValue:a.MiEmail})))))),l.a.createElement(u.a,null,l.a.createElement("div",{className:"bigDiv"},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Disclaimers"),l.a.createElement(T.a,{as:"textarea",size:"sm",name:"disclaimer1",defaultValue:a.disclaimer1})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(T.a,{as:"textarea",size:"sm",name:"disclaimer2",defaultValue:a.disclaimer2})))))))},j=function(e){return l.a.createElement(D,{onChange:function(a){e.editForm(a)},form:e.FO})},L=t(60),z=t.n(L);function P(e){return new Promise((function(a){var t=e.files[0];if(t&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type){var n=new FileReader;n.onload=function(e){var t=e.target.result,n=z.a.read(t,{type:"binary"}),l=n.SheetNames[0],r=n.Sheets[l],c=z.a.utils.sheet_to_json(r,{header:1});console.log(c);for(var o=!0;o&&c.length>0;)for(var i in c){if(!c[i].length>0){c.splice(i,1),o=!0;break}o=!1}a(c)},n.readAsBinaryString(t)}else console.log("invalid file input"),a(null)}))}t(126);var U=function(e){return l.a.createElement(g.a,{id:e.id,name:e.name,className:"deleteButton",onClick:e.onClick,style:e.style},l.a.createElement("div",{className:"deleteButtonTextContainer"},l.a.createElement("p",{id:e.id,name:e.name},"-")))},B=(t(127),function(e){var a=e.form;function t(a){var t=e.data;(t=t.slice(0).reverse())[e.index][a.target.name]=a.target.value,t=t.slice(0).reverse(),e.editForm(t)}return a.ImageID&&e.ID&&(a.imgsrc="https://sahat.lamk.fi/public/".concat(e.ID,"/").concat(a.ImageID)),Object(n.useEffect)((function(){a=e.form})),l.a.createElement(u.a,null,l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"First Name"),l.a.createElement(T.a,{size:"sm",value:a.FirstName,onChange:function(e){t(e)},name:"FirstName"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Last Name"),l.a.createElement(T.a,{size:"sm",value:a.LastName,onChange:function(e){t(e)},name:"LastName"})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Email"),l.a.createElement(T.a,{size:"sm",value:a.Email,onChange:function(e){t(e)},name:"Email"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Phone"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Include area code. Example: "+358 12345678"')},l.a.createElement(T.a,{size:"sm",value:a.Phone,onChange:function(e){t(e)},name:"Phone"}))))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Company"),l.a.createElement(T.a,{size:"sm",value:a.Company,onChange:function(e){t(e)},name:"Company"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Country ISO Code"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Example: "FI", "SE", "FR"')},l.a.createElement(T.a,{size:"sm",value:a.Country,onChange:function(e){t(e)},name:"Country"}))))))),l.a.createElement(U,{onClick:function(){var a=e.data;(a=a.slice(0).reverse()).splice(e.index,1),a=a.slice(0).reverse(),e.editForm(a)}}))}),A=(t(128),function(e){return l.a.createElement("div",{className:"sortButtonWrapper"},l.a.createElement(g.a,{className:"sortButton",id:e.id,name:e.name,onClick:e.onClick,style:e.style},e.content))}),R=t(48),M=t.n(R),V=t(160),W=function(e){var a=Object(n.useState)(e.subForm),t=Object(c.a)(a,2),r=t[0],o=t[1];var m,s=Object(n.useState)(""),u=Object(c.a)(s,2),d=u[0],p=u[1];function f(a){o(a),e.editForm("participants",a)}return Object(n.useEffect)((function(){""!==d&&Object(R.forceCheck)()}),[d]),m=r.slice(0).reverse().map((function(a,t){return a.Company.toLowerCase().includes(d.toLowerCase())||a.Country.toLowerCase().includes(d.toLowerCase())||a.Email.toLowerCase().includes(d.toLowerCase())||a.FirstName.toLowerCase().includes(d.toLowerCase())||a.LastName.toLowerCase().includes(d.toLowerCase())||a.Phone.toLowerCase().includes(d.toLowerCase())||""===d?l.a.createElement(M.a,{key:t,height:200},l.a.createElement(B,{key:t,index:t,form:a,data:r,editForm:f,fileToUpload:function(a){return e.fileToUpload(a)}})):null})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{height:"48px",display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"row"}},l.a.createElement("form",{id:"fileform",style:{display:"flex",flex:"1",justifyContent:"flex-end",alignContent:"center"}},l.a.createElement("label",{htmlFor:"hidden-input",className:"excelButton"},"Choose Excel File"),l.a.createElement("input",{id:"hidden-input",type:"file",className:"hidden",onChange:function(a){var t,n,l;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.next=3,i.a.awrap(P(a.target));case 3:for(l in t=c.sent,console.log(t),n=[],t)console.log(t[l]),l>0&&n.push({Country:t[l][0],FirstName:t[l][1],LastName:t[l][2],Email:t[l][3],Phone:t[l][4],Company:t[l][5]});o(n),e.editForm("participants",r),document.getElementById("fileform").reset();case 10:case"end":return c.stop()}}))}})),l.a.createElement("div",{style:{display:"flex",flex:"1",justifyContent:"flex-start",alignContent:"center"}},l.a.createElement("a",{className:"excelButton",href:"/Excel/Participants.xlsx",download:!0},"Download Excel Template"))),l.a.createElement("div",{style:{marginRight:"20px",marginLeft:"20px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",flexWrap:"wrap"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginBottom:"10px",justifyContent:"center",alignItems:"center"}},l.a.createElement(V.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",border:"1.5px solid lightgrey",padding:"0px",marginRight:"10px"}},l.a.createElement(T.a,{className:"noActive",onKeyDown:function(e){13===e.keyCode&&p(e.target.value)}})),l.a.createElement(g.a,{className:"otherButtons",onClick:function(e){e.target.parentNode.childNodes[0].childNodes[0].value="",p("")}},"Clear"),l.a.createElement(g.a,{className:"otherButtons",onClick:function(e){p(e.currentTarget.parentNode.childNodes[0].childNodes[0].value)}},"Search"))),l.a.createElement("form",{autoComplete:"off",id:"form"},l.a.createElement(k,{onClick:function(a){a.preventDefault();var t=r;t.push({Country:"",FirstName:"",LastName:"",Email:"",Phone:"",Company:""}),o(t),e.editForm("participants",r)}})),l.a.createElement(A,{content:"Sort",onClick:function(){!function(a){var t=a.sort((function(e,a){return e.LastName<a.LastName?1:e.LastName===a.LastName&&e.FirstName<a.FirstName?1:-1}));o(t),e.editForm("participants",t),console.log(t)}(r)}}),l.a.createElement("div",{className:"list"},m))},H=(t(133),t(82)),$=t.n(H),q=t(84),G=t.n(q),_=function(e){var a,t=e.form;function r(a){var t=e.data;t=t.slice(0).reverse(),"file"===a.target.type?t[e.index][a.target.name]=a.target.value.match(/[^\\/]*$/)[0]:t[e.index][a.target.name]=a.target.value,t=t.slice(0).reverse(),e.editForm(t)}Object(n.useEffect)((function(){t=e.form})),a=e.form.Pdf?l.a.createElement($.a,{className:"pdfIcon",style:{color:"#ff0000"}}):l.a.createElement(G.a,{className:"pdfIcon"});for(var c=0,o=0;o<e.data.length;o++)e.data[o].day===t.day&&c++;return l.a.createElement("div",null,l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Name of the Speaker"),l.a.createElement(T.a,{size:"sm",onChange:r,name:"NameOfSpeaker",value:t.NameOfSpeaker}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Title of the Speaker"),l.a.createElement(T.a,{size:"sm",onChange:r,name:"TitleOfSpeaker",value:t.TitleOfSpeaker}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Special Title of the Speaker"),l.a.createElement(T.a,{size:"sm",onChange:r,name:"SpecialTitleOfSpeaker",value:t.SpecialTitleOfSpeaker}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Company of the Speaker"),l.a.createElement(T.a,{size:"sm",onChange:r,name:"CompanyOfSpeaker",value:t.CompanyOfSpeaker})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Time"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Example "15:00-15:30"')},l.a.createElement(T.a,{size:"sm",name:"Time",onChange:r,value:t.Time})))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Location"),l.a.createElement(T.a,{size:"sm",name:"Location",onChange:r,value:t.Location}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Description"),l.a.createElement(T.a,{size:"sm",name:"Description",as:"textarea",rows:"1",value:t.Description,onChange:r})))))),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,a),l.a.createElement("label",{htmlFor:"hidden-"+e.index,className:"labelForHidden",style:{width:"111.25px"}},"Choose PDF"),l.a.createElement(T.a,{size:"sm",onChange:function(a){r(a),function(a){e.fileToUpload(a)}(a),a.target.value=null},className:"hidden",name:"Pdf",type:"file",id:"hidden-"+e.index}))),c>1?l.a.createElement(U,{onClick:function(){var a=e.data;(a=a.slice(0).reverse()).splice(e.index,1),a=a.slice(0).reverse(),e.editForm(a)}}):null))},J=t(85),K=function(e){var a=Object(n.useState)(e.subForm),t=Object(c.a)(a,2),r=t[0],o=t[1],m=Object(n.useState)(C(r)),s=Object(c.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)("1"),f=Object(c.a)(p,2),E=f[0],v=f[1];function h(e){var a=e.Time.split("-")[0].split(":");return a[0]=parseFloat(a[0]),a[1]=parseFloat(a[1]),a.push(parseFloat(e.day)),a}function y(e){return 60*e[0]+e[1]+1440*e[2]}function b(e){var a=[];for(var t in e){var n=void 0,l=!1;for(n=0;n<a.length;n++)if("day"in a[n]&&a[n].day==="Day "+e[t].day){l=!0;break}l?a[n].content.push({Time:e[t].Time,Location:e[t].Location,Description:e[t].Description,NameOfSpeaker:e[t].NameOfSpeaker,TitleOfSpeaker:e[t].TitleOfSpeaker,SpecialTitleOfSpeaker:e[t].SpecialTitleOfSpeaker,CompanyOfSpeaker:e[t].CompanyOfSpeaker,Pdf:e[t].Pdf}):a.push({day:"Day "+e[t].day,content:[{Time:e[t].Time,Location:e[t].Location,Description:e[t].Description,NameOfSpeaker:e[t].NameOfSpeaker,TitleOfSpeaker:e[t].TitleOfSpeaker,SpecialTitleOfSpeaker:e[t].SpecialTitleOfSpeaker,CompanyOfSpeaker:e[t].CompanyOfSpeaker,Pdf:e[t].Pdf}]})}var r=!1;for(var c in e){if(E===e[c].day){r=!1;break}r=!0}r&&v("1"),o(a),d(C(a))}function C(e){var a=[];for(var t in e){var n=e[t].day;n=n.replace("Day ","");var l=e[t].content;for(var r in l)a.push({day:n,Time:l[r].Time,Location:l[r].Location,Description:l[r].Description,NameOfSpeaker:l[r].NameOfSpeaker,TitleOfSpeaker:l[r].TitleOfSpeaker,SpecialTitleOfSpeaker:l[r].SpecialTitleOfSpeaker,CompanyOfSpeaker:l[r].CompanyOfSpeaker,Pdf:l[r].Pdf})}return a}function x(a,t){a.preventDefault();var n,l=r,c=!1;for(n=0;n<l.length;n++)if("day"in l[n]&&l[n].day==="Day "+t){c=!0;break}c?l[n].content.push({Time:"",Location:"",Description:"",NameOfSpeaker:"",TitleOfSpeaker:"",SpecialTitleOfSpeaker:"",CompanyOfSpeaker:"",Pdf:""}):l.push({day:"Day "+t,content:[{Time:"",Location:"",Description:"",NameOfSpeaker:"",TitleOfSpeaker:"",SpecialTitleOfSpeaker:"",CompanyOfSpeaker:"",Pdf:""}]}),o(l),e.editForm("programme",l),d(C(l))}function S(){var e=u,a=0;for(var t in e)e[t].day>a&&(a=parseInt(e[t].day));return a}function O(e){if("plus"===e.target.name)x(e,S()+1);else if("minus"===e.target.name){for(var a=u,t=S(),n=!0;n;)for(var l in n=!1,a)if(parseInt(a[l].day)===t){a.splice(l,1),n=!0;break}b(a)}else"day"===e.target.name?v(e.target.id):x(e,E)}Object(n.useEffect)((function(){e.editForm("programme",r)}),[r]);var N,F,T=[],D=0;return N=u.map((function(e,a){return T.includes(e.day)?null:(T.push(e.day),D++,l.a.createElement(g.a,{key:a,name:"day",id:e.day,onClick:O,className:E===e.day?"active":"inactive",disabled:E===e.day},"Day ",e.day))})),F=u.slice(0).reverse().map((function(a,t){return r.length>0&&(a.day===E||null==E)?l.a.createElement(_,{key:t,index:t,form:a,data:u,editForm:function(e){return b(e)},fileToUpload:function(a){return e.fileToUpload(a)}}):null})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{height:"48px",display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"row"}},l.a.createElement("form",{id:"fileform",style:{display:"flex",flex:"1",justifyContent:"flex-end",alignContent:"center"}},l.a.createElement("label",{htmlFor:"hidden-input",className:"excelButton"},"Choose Excel File"),l.a.createElement("input",{id:"hidden-input",type:"file",className:"hidden",onChange:function(e){var a,t,n;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(P(e.target));case 2:for(n in a=l.sent,t=[],a)n>0&&t.push({day:a[n][0],Time:a[n][1],Location:a[n][2],Description:a[n][3],NameOfSpeaker:a[n][4],TitleOfSpeaker:a[n][5],SpecialTitleOfSpeaker:a[n][6],CompanyOfSpeaker:a[n][7],Pdf:a[n][8]});b(t),document.getElementById("fileform").reset();case 7:case"end":return l.stop()}}))}})),l.a.createElement("div",{style:{display:"flex",flex:"1",justifyContent:"flex-start",alignContent:"center"}},l.a.createElement("a",{className:"excelButton",href:"/Excel/Programme.xlsx",download:!0},"Download Excel Template"))),l.a.createElement("form",{autoComplete:"off",id:"form",style:{display:"none"}},l.a.createElement("label",null,"Day:"),l.a.createElement("input",{type:"number",name:"Date",min:"0",defaultValue:"1"}),l.a.createElement("input",{type:"text",name:"time",placeholder:"Time"}),l.a.createElement("input",{type:"text",name:"location",placeholder:"Event Location"}),l.a.createElement("textarea",{name:"description",placeholder:"Event Description"}),l.a.createElement("input",{type:"text",name:"speakerName",placeholder:"Speaker Name"}),l.a.createElement("input",{type:"text",name:"speakerTitle",placeholder:"Speaker Title"}),l.a.createElement("input",{type:"text",name:"speakerSpecialTitle",placeholder:"Speaker Special Title"}),l.a.createElement("input",{type:"text",name:"speakerCompany",placeholder:"Speaker Company"}),l.a.createElement("input",{type:"file",name:"test",id:"test",onChange:function(a){e.fileToUpload(a)}}),l.a.createElement("button",{onClick:function(a){a.preventDefault();var t,n=r,l=!1;for(t=0;t<n.length;t++)if("day"in n[t]&&n[t].day==="Day "+a.target.form[0].value){l=!0;break}l?n[t].content.push({Time:a.target.form[1].value,Location:a.target.form[2].value,Description:a.target.form[3].value,NameOfSpeaker:a.target.form[4].value,TitleOfSpeaker:a.target.form[5].value,SpecialTitleOfSpeaker:a.target.form[6].value,CompanyOfSpeaker:a.target.form[7].value,Pdf:a.target.form[8].value.match(/[^\\/]*$/)[0]}):n.push({day:"Day "+a.target.form[0].value,content:[{Time:a.target.form[1].value,Location:a.target.form[2].value,Description:a.target.form[3].value,NameOfSpeaker:a.target.form[4].value,TitleOfSpeaker:a.target.form[5].value,SpecialTitleOfSpeaker:a.target.form[6].value,CompanyOfSpeaker:a.target.form[7].value,Pdf:a.target.form[8].value.match(/[^\\/]*$/)[0]}]}),document.getElementById("form").reset(),o(n),e.editForm("programme",n),d(C(n))}},"Add Programme")),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",null,l.a.createElement(J.a,{className:"navbarButtons"},N)),l.a.createElement("div",null,l.a.createElement(J.a,{vertical:!0,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},l.a.createElement(g.a,{className:"dayAddButton",name:"plus",onClick:O,disabled:D>=5},"+"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"WARNING! Pressing this deletes the most recent day and all its contents!")},l.a.createElement(g.a,{className:"dayDeleteButton",name:"minus",onClick:O},"-"))))),l.a.createElement("div",null,r.length>0?l.a.createElement(k,{onClick:O}):null),l.a.createElement("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center",alignItems:"center"}}),l.a.createElement(A,{content:"Sort",onClick:function(){!function(e){for(var a=0;a<e.length-1;a++){for(var t=a,n=a+1;n<e.length;n++)r=e[n],c=e[t],r=h(r),c=h(c),(r=y(r))<(c=y(c))&&(t=n);if(t!==a){var l=e[a];e[a]=e[t],e[t]=l}}var r,c;b(e)}(u)}}),u.length>0?F:null)},Q=(t(137),function(e){var a=e.form,t=e.ID;function r(a){var t=e.data;t=t.slice(0).reverse(),"file"===a.target.type?t[e.index][a.target.name]=a.target.value.match(/[^\\/]*$/)[0]:t[e.index][a.target.name]=a.target.value,t=t.slice(0).reverse(),e.editForm(t)}return a.ImageID&&t&&!a.speakerImgsrc&&(a.speakerImgsrc="https://sahat.lamk.fi/public/".concat(t,"/").concat(a.ImageID)),Object(n.useEffect)((function(){a=e.form})),l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Name of the Speaker"),l.a.createElement(T.a,{size:"sm",value:a.Speaker,onChange:function(e){r(e)},name:"Speaker"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Title of the Speaker"),l.a.createElement(T.a,{size:"sm",value:a.Title,onChange:function(e){r(e)},name:"Title"})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Special Title of the Speaker"),l.a.createElement(T.a,{size:"sm",value:a.SpecialTitle,onChange:function(e){r(e)},name:"SpecialTitle"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Company of the Speaker"),l.a.createElement(T.a,{size:"sm",value:a.Company,onChange:function(e){r(e)},name:"Company"})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Description"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"More detailed description of the speaker")},l.a.createElement(T.a,{as:"textarea",size:"sm",value:a.Description,onChange:function(e){r(e)},name:"Description"}))))))),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,l.a.createElement(x.a,{className:"filePrev",src:a.speakerImgsrc,fluid:!0,roundedCircle:!0})),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Image size: 1080px")},l.a.createElement("label",{htmlFor:"hidden-"+e.index,className:"labelForHidden"},"Choose image")),l.a.createElement(T.a,{size:"sm",onChange:function(t){r(t),function(a){e.fileToUpload(a)}(t),function(e){e.target.files&&e.target.files[0]&&(a.speakerImgsrc=URL.createObjectURL(e.target.files[0]))}(t),t.target.value=null},id:"hidden-"+e.index,className:"hidden",type:"file",name:"ImageID"}))),l.a.createElement(U,{onClick:function(){var a=e.data;(a=a.slice(0).reverse()).splice(e.index,1),a=a.slice(0).reverse(),e.editForm(a)}}))}),X=function(e){var a,t=Object(n.useState)(e.subForm),r=Object(c.a)(t,2),o=r[0],m=r[1];function s(a){m(a),e.editForm("speakers",a)}return a=o.slice(0).reverse().map((function(a,t){return l.a.createElement(Q,{key:t,index:t,form:a,data:o,editForm:s,ID:e.EditID,fileToUpload:function(a){return e.fileToUpload(a)}})})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{height:"48px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"}},l.a.createElement("div",{id:"fileform",style:{display:"flex",flex:"1",justifyContent:"flex-end",alignContent:"center"}},l.a.createElement("label",{htmlFor:"hidden-input",className:"excelButton"},"Choose Excel File"),l.a.createElement("input",{id:"hidden-input",type:"file",className:"hidden",onChange:function(a){var t,n,l;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(P(a.target));case 2:for(l in t=r.sent,n=[],t)l>0&&n.push({Speaker:t[l][0],Title:t[l][1],SpecialTitle:t[l][2],Company:t[l][3],ImageID:t[l][4],Description:t[l][5]});m(n),e.editForm("speakers",o),document.getElementById("fileform").reset();case 8:case"end":return r.stop()}}))}})),l.a.createElement("div",{style:{display:"flex",flex:"1",justifyContent:"flex-start",alignContent:"center"}},l.a.createElement("a",{className:"excelButton",href:"/Excel/Speakers.xlsx",download:!0},"Download Excel Template"))),l.a.createElement("form",{autoComplete:"off",id:"form"},l.a.createElement("input",{style:{display:"none"},type:"text",name:"speaker",placeholder:"Speaker"}),l.a.createElement("input",{style:{display:"none"},type:"text",name:"speakerTitle",placeholder:"Speaker Title"}),l.a.createElement("input",{style:{display:"none"},type:"text",name:"speakerSpecialTitle",placeholder:"Speaker Special Title"}),l.a.createElement("input",{style:{display:"none"},type:"text",name:"speakersCompany",placeholder:"Speakers Company"}),l.a.createElement("input",{style:{display:"none"},type:"file",name:"speakerImage",id:"test",onChange:function(a){e.fileToUpload(a)}}),l.a.createElement("button",{style:{display:"none"},onClick:function(a){a.preventDefault();var t=o;t.push({Speaker:a.target.form[0].value,Title:a.target.form[1].value,SpecialTitle:a.target.form[2].value,Company:a.target.form[3].value,ImageID:a.target.form[4].value.match(/[^\\/]*$/)[0]}),document.getElementById("form").reset(),m(t),e.editForm("speakers",o)}},"Add Speaker"),l.a.createElement(k,{onClick:function(a){a.preventDefault();var t=o;t.push({Speaker:"",Title:"",SpecialTitle:"",Company:"",ImageID:"",Description:""}),m(t),e.editForm("speakers",o)}})),l.a.createElement(A,{content:"Sort",onClick:function(){!function(a){var t=a.sort((function(e,a){return e.Speaker.split(" ")[1]<a.Speaker.split(" ")[1]?1:e.Speaker.split(" ")[1]===a.Speaker.split(" ")[1]&&e.Speaker.split(" ")[0]<a.Speaker.split(" ")[0]?1:-1}));m(t),e.editForm("speakers",t),console.log(t)}(o)}}),a)},Y=(t(138),function(e){var a=e.form;function t(a){var t=e.data;t=t.slice(0).reverse(),"file"===a.target.type?t[e.index][a.target.name]=a.target.value.match(/[^\\/]*$/)[0]:t[e.index][a.target.name]=a.target.value,t=t.slice(0).reverse(),e.editForm(t)}return a.ImageID&&e.ID&&!a.sponsorImgsrc&&(a.sponsorImgsrc="https://sahat.lamk.fi/public/".concat(e.ID,"/").concat(a.ImageID)),Object(n.useEffect)((function(){a=e.form})),l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Name of the Company"),l.a.createElement(T.a,{value:a.CompanyName,name:"CompanyName",onChange:function(e){return t(e)},placeholder:"Name of company"})))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Url of the Company"),l.a.createElement(T.a,{value:a.CompanyUrl,name:"CompanyUrl",onChange:function(e){return t(e)},placeholder:"Url of company"})))))),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,l.a.createElement(x.a,{className:"filePrev",src:a.sponsorImgsrc,fluid:!0})),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Image size: 1080px")},l.a.createElement("label",{htmlFor:"hidden-"+e.index,className:"labelForHidden"},"Choose image")),l.a.createElement(T.a,{className:"hidden",name:"ImageID",onChange:function(n){t(n),function(a){e.fileToUpload(a)}(n),function(e){e.target.files&&e.target.files[0]&&(a.sponsorImgsrc=URL.createObjectURL(e.target.files[0]))}(n),n.target.value=null},type:"file",id:"hidden-"+e.index}))),l.a.createElement(U,{onClick:function(){var a=e.data;(a=a.slice(0).reverse()).splice(e.index,1),a=a.slice(0).reverse(),e.editForm(a)}}))}),Z=function(e){var a,t=Object(n.useState)(e.subForm),r=Object(c.a)(t,2),o=r[0],i=r[1];function m(a){i(a),e.editForm("sponsors",a)}return a=o.slice(0).reverse().map((function(a,t){return l.a.createElement(Y,{key:t,index:t,form:a,data:o,editForm:m,ID:e.EditID,fileToUpload:function(a){return e.fileToUpload(a)}})})),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{autoComplete:"off",id:"form"},l.a.createElement("input",{style:{display:"none"},type:"text",name:"sponsorCompany",placeholder:"Company Name"}),l.a.createElement("input",{style:{display:"none"},type:"text",name:"sponsorURL",placeholder:"Company URL"}),l.a.createElement("input",{style:{display:"none"},type:"file",name:"sponsorImg",id:"test",onChange:function(a){e.fileToUpload(a)}}),l.a.createElement("button",{style:{display:"none"},onClick:function(a){a.preventDefault();var t=o;t.push({CompanyName:a.target.form[0].value,CompanyUrl:a.target.form[1].value,ImageID:a.target.form[2].value.match(/[^\\/]*$/)[0]}),document.getElementById("form").reset(),i(t),e.editForm("sponsors",o)}},"Add Sponsor"),l.a.createElement(k,{onClick:function(a){a.preventDefault();var t=o;t.push({CompanyName:"",CompanyUrl:"",ImageID:""}),document.getElementById("form").reset(),i(t),e.editForm("sponsors",o)}})),l.a.createElement(A,{content:"Sort",onClick:function(){!function(a){var t=a.sort((function(e,a){return e.CompanyName<a.CompanyName?1:e.CompanyName===a.CompanyName&&e.Speaker<a.CompanyName?1:-1}));i(t),e.editForm("sponsors",t),console.log(t)}(o)}}),a)},ee=(t(139),function(e){var a=e.form;function t(a){var t=e.data;t=t.slice(0).reverse(),"file"===a.target.type?t[e.index][a.target.name]=a.target.value.match(/[^\\/]*$/)[0]:t[e.index][a.target.name]=a.target.value,t=t.slice(0).reverse(),e.editForm(t)}return a.image&&e.ID&&!a.venueImgsrc&&(a.venueImgsrc="https://sahat.lamk.fi/public/".concat(e.ID,"/").concat(a.image)),Object(n.useEffect)((function(){a=e.form})),l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Title of the Map"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Short name for the map. Example: "1. Floor", "2. Floor"')},l.a.createElement(T.a,{size:"sm",value:a.title,onChange:function(e){t(e)},name:"title"}))))))),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,l.a.createElement(x.a,{className:"filePrev",src:a.venueImgsrc,fluid:!0})),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Image size: 1080px")},l.a.createElement("label",{htmlFor:"hidden-"+e.index,className:"labelForHidden"},"Choose image")),l.a.createElement(T.a,{size:"sm",onChange:function(n){t(n),function(a){e.fileToUpload(a)}(n),function(e){e.target.files&&e.target.files[0]&&(a.venueImgsrc=URL.createObjectURL(e.target.files[0]))}(n),n.target.value=null},id:"hidden-"+e.index,className:"hidden",type:"file",name:"image"}))),l.a.createElement(U,{onClick:function(){var a=e.data;(a=a.slice(0).reverse()).splice(e.index,1),a=a.slice(0).reverse(),e.editForm(a)}}))}),ae=function(e){var a,t=Object(n.useState)(e.subForm),r=Object(c.a)(t,2),o=r[0],i=r[1];function m(a){i(a),e.editForm("venue",a)}return a=o.slice(0).reverse().map((function(a,t){return l.a.createElement(ee,{key:t,index:t,form:a,data:o,editForm:m,ID:e.EditID,fileToUpload:function(a){return e.fileToUpload(a)}})})),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{autoComplete:"off",id:"form"},l.a.createElement("input",{style:{display:"none"},type:"text",name:"title",placeholder:"Venue Title"}),l.a.createElement("input",{style:{display:"none"},type:"file",name:"venueImg",id:"test",onChange:function(a){e.fileToUpload(a)}}),l.a.createElement("button",{style:{display:"none"},onClick:function(a){a.preventDefault();var t=o;t.push({title:a.target.form[0].value,image:a.target.form[1].value.match(/[^\\/]*$/)[0]}),document.getElementById("form").reset(),i(t),e.editForm("venue",o)}},"Add Venue"),l.a.createElement(k,{onClick:function(a){a.preventDefault();var t=o;t.push({title:"",image:""}),document.getElementById("form").reset(),i(t),e.editForm("venue",o)}})),l.a.createElement(A,{content:"Sort",onClick:function(){!function(a){var t=a;console.log(t);var n=t.sort((function(e,a){return e.title<a.title?1:e.title===a.title&&e.title<a.title?1:-1}));i(n),e.editForm("venue",n),console.log(n)}(o)}}),a)},te=t(80),ne=(t(140),t(49)),le=t.n(ne),re=function(e){var a=e.form,t=e.ID;function r(a){var t=e.data;"file"===a.target.type?t[e.index][a.target.name]=a.target.value.match(/[^\\/]*$/)[0]:t[e.index][a.target.name]=a.target.value,e.editForm(t)}a.image&&t&&!a.markerImgsrc&&(a.markerImgsrc="https://sahat.lamk.fi/public/".concat(t,"/").concat(a.image),a.image.includes("https://")&&(a.markerImgsrc=a.image)),Object(n.useEffect)((function(){a=e.form}));var o,m=Object(n.useState)(),s=Object(c.a)(m,2),d=s[0],v=s[1];return"restaurants"===e.markerType?o=l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Description"),l.a.createElement(T.a,{as:"textarea",size:"sm",value:a.description,onChange:function(e){r(e)},name:"description"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Category"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Type of restaurant. Example: "Burger", "Pizza", "Chinese" etc')},l.a.createElement(T.a,{size:"sm",value:a.category,onChange:function(e){r(e)},name:"category"})))),l.a.createElement(f.a,{sm:1}),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Rating"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Value 1-5")},l.a.createElement(T.a,{size:"sm",value:a.rating,onChange:function(e){r(e)},name:"rating"})))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Web url"),l.a.createElement(T.a,{size:"sm",value:a.webURL,onChange:function(e){r(e)},name:"webURL"})))):"hotels"===e.markerType?o=l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Description"),l.a.createElement(T.a,{as:"textarea",size:"sm",value:a.description,onChange:function(e){r(e)},name:"description"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Rating"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Value 1-5")},l.a.createElement(T.a,{size:"sm",value:a.rating,onChange:function(e){r(e)},name:"rating"})))),l.a.createElement(f.a,{sm:1}),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Web url"),l.a.createElement(T.a,{size:"sm",value:a.webURL,onChange:function(e){r(e)},name:"webURL"}))),l.a.createElement(f.a,null)):"others"===e.markerType&&(o=l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Description"),l.a.createElement(T.a,{as:"textarea",size:"sm",value:a.description,onChange:function(e){r(e)},name:"description"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Category"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Type of business. Example: "Theatre", "Library", "Shop"')},l.a.createElement(T.a,{size:"sm",value:a.category,onChange:function(e){r(e)},name:"category"})))),l.a.createElement(f.a,{sm:1}),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Web URL"),l.a.createElement(T.a,{size:"sm",value:a.webURL,onChange:function(e){r(e)},name:"webURL"}))),l.a.createElement(f.a,null))),l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},"restaurants"===e.markerType?l.a.createElement("p",null,"Restaurant"):null,"hotels"===e.markerType?l.a.createElement("p",null,"Hotel"):null,"others"===e.markerType?l.a.createElement("p",null,"Other"):null,l.a.createElement(E.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Name"),l.a.createElement(T.a,{size:"sm",value:a.name,onChange:function(e){r(e)},name:"name"}))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Address"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Street address, Postcode and City. Example: "Mukkulankatu 19, 15210 Lahti"')},l.a.createElement(T.a,{size:"sm",value:a.address,onChange:function(e){r(e)},name:"address"})),l.a.createElement(te.a,{className:"text-danger"},d))),l.a.createElement(f.a,{sm:1},l.a.createElement("br",null),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Converts address to latitude and longitude. Resulting values can be inaccurate and require checking.")},l.a.createElement(g.a,{className:"latlongButtons",onClick:function(){var t,n,l;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.data,v(""),!a.address){r.next=7;break}return n=a.address.replace(" ","%20"),l="https://nominatim.openstreetmap.org/search/".concat(n,"?format=json&limit=1"),r.next=7,i.a.awrap(h.a.get(l).then((function(a){t[e.index].lat=a.data[0].lat,t[e.index].long=a.data[0].lon})).catch((function(e){console.log(e),v("Cannot get lat and long")})));case 7:e.editForm(t);case 8:case"end":return r.stop()}}))}},l.a.createElement(le.a,null)))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Latitude"),l.a.createElement(T.a,{size:"sm",value:a.lat,onChange:function(e){r(e)},name:"lat"}),l.a.createElement(te.a,null,"Required"))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Longitude"),l.a.createElement(T.a,{size:"sm",value:a.long,onChange:function(e){r(e)},name:"long"}),l.a.createElement(te.a,null,"Required"))))),o),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,l.a.createElement(x.a,{className:"filePrev",src:a.markerImgsrc,fluid:!0})),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Image size: 1080px")},l.a.createElement("label",{htmlFor:"hidden-"+e.index,className:"labelForHidden"},"Choose image")),l.a.createElement(T.a,{size:"sm",onChange:function(t){!function(e){e.target.files&&e.target.files[0]&&(a.markerImgsrc=URL.createObjectURL(e.target.files[0]))}(t),r(t),function(a){e.fileToUpload(a)}(t),t.target.value=null},id:"hidden-"+e.index,className:"hidden",type:"file",name:"image"}))),l.a.createElement("label",null,"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright"),l.a.createElement(U,{onClick:function(){var a=e.data;a.splice(e.index,1),e.editForm(a)}}))},ce=function(e){var a=Object(n.useState)(e.subForm?e.subForm:{restaurants:[],hotels:[],others:[]}),t=Object(c.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(E(r)),m=Object(c.a)(i,2),s=m[0],d=m[1];function E(e){var a=[];for(var t in e)for(var n in e[t]){var l=e[t][n];l.key=t,a.push(l)}return a}var v=Object(n.useState)("restaurants"),h=Object(c.a)(v,2),y=h[0],b=h[1];function C(e){e.preventDefault(),y!==e.target.name?b(e.target.name):b(null)}var x=null;return s&&(x=s.map((function(a,t){return a.key===y||null===y?l.a.createElement(re,{key:t,index:t,form:a,data:s,editForm:function(a){return function(a){var t={restaurants:[],hotels:[],others:[]};for(var n in a){var l={},r=void 0;for(var c in a[n])"key"===c?r=a[n][c]:l[c]=a[n][c];t[r].push(l)}o(t),e.editForm("mapmarkers",t)}(a)},ID:e.EditID,markerType:a.key,fileToUpload:function(a){return e.fileToUpload(a)}}):null}))),l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null,l.a.createElement(u.a,{className:"text-center",style:{width:"40rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement("h5",null,"Marker Category"),l.a.createElement(p.a,{style:{marginBottom:"10px"}},l.a.createElement(J.a,{className:"navbarButtons"},l.a.createElement(g.a,{name:"restaurants",onClick:C,className:"restaurants"===y?"active":"inactive",disabled:"restaurants"===y},"Restaurants"),l.a.createElement(g.a,{name:"hotels",onClick:C,className:"hotels"===y?"active":"inactive",disabled:"hotels"===y},"Hotels"),l.a.createElement(g.a,{name:"others",onClick:C,className:"others"===y?"active":"inactive",disabled:"others"===y},"Others"))),l.a.createElement(p.a,null,l.a.createElement(J.a,{style:{display:"block"}},l.a.createElement(g.a,{className:"otherButtons",name:"restaurants"===y?"restaurant":"hotels"===y?"hotel":"other",onClick:function(e){!function(e){console.log(e.target);var a=r;"restaurant"===e.target.name?a.restaurants.push({lat:"",long:"",name:"",address:"",description:"",category:"",rating:"",webURL:"",image:""}):"hotel"===e.target.name?a.hotels.push({lat:"",long:"",name:"",address:"",description:"",rating:"",webURL:"",image:""}):"other"===e.target.name&&a.others.push({lat:"",long:"",name:"",address:"",description:"",category:"",webURL:"",image:""}),o(a),d(E(a))}(e)}},"Create ","restaurants"===y?"Restaurant":"hotels"===y?"Hotel":"Other"))))),l.a.createElement(f.a,null,x))},oe=t(61),ie=(t(141),function(e){var a=e.FO;a.eventImage&&e.ID&&!a.generalImgsrc&&(a.generalImgsrc="https://sahat.lamk.fi/public/".concat(e.ID,"/").concat(a.eventImage),a.eventImage.includes("https://")&&(a.generalImgsrc=a.eventImage)),Object(n.useEffect)((function(){a=e.form}));var t=Object(n.useState)(""),r=Object(c.a)(t,2),o=r[0],m=r[1];return l.a.createElement(u.a,null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"bigDiv"},l.a.createElement(E.a,{onChange:function(a){return e.editForm(a)}},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Event Name"),l.a.createElement(T.a,{size:"sm",name:"eventName",defaultValue:a.eventName}),l.a.createElement(te.a,null,"Required"))),l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Event Password"),l.a.createElement(T.a,{size:"sm",name:"eventPass",defaultValue:a.eventPass}),l.a.createElement(te.a,null,"Required")))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Address"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Street address, Postcode and City. Example: "Mukkulankatu 19, 15210 Lahti"')},l.a.createElement(T.a,{size:"sm",defaultValue:a.address,onChange:function(a){return e.editForm(a)},name:"address"})),l.a.createElement(te.a,{className:"text-danger"},o))),l.a.createElement(f.a,{sm:1},l.a.createElement("br",null),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Converts address to latitude and longitude. Resulting values can be inaccurate and require checking.")},l.a.createElement(g.a,{className:"latlongButtons",onClick:function(){var a,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(m(""),!e.FO||!e.FO.address){n.next=6;break}return a=e.FO.address.toString().replace(" ","%20"),t="https://nominatim.openstreetmap.org/search/".concat(a,"?format=json&limit=1"),n.next=6,i.a.awrap(h.a.get(t).then((function(a){e.latlongForm(a.data[0].lat,a.data[0].lon)})).catch((function(e){console.log(e),m("Unable to find lat and long")})));case 6:case"end":return n.stop()}}))}},l.a.createElement(le.a,null)))),l.a.createElement(f.a,{sm:3},l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Latitude"),l.a.createElement(T.a,{size:"sm",defaultValue:a.lat,onChange:function(a){return e.editForm(a)},name:"lat"}),l.a.createElement(te.a,null,"Required"))),l.a.createElement(f.a,{sm:3},l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Longitude"),l.a.createElement(T.a,{size:"sm",defaultValue:a.long,onChange:function(a){return e.editForm(a)},name:"long"}),l.a.createElement(te.a,null,"Required")))),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,"Event Color Scheme"),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,'Hexadecimal Value. Example: "#FFFFFF"')},l.a.createElement(T.a,{size:"sm",maxLength:"7",name:"eventColor",defaultValue:a.eventColor})))),l.a.createElement(f.a,null,l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Event Visiblity"),l.a.createElement(E.a.Check,{className:"checkbox",type:"radio",name:"visibility",label:"visible",value:"visible",onChange:function(){},checked:"visible"==e.FO.visibility})," ",l.a.createElement(E.a.Check,{className:"checkbox",type:"radio",name:"visibility",label:"hidden",value:"hidden",onChange:function(){},checked:"hidden"==e.FO.visibility})," "))))),l.a.createElement("div",{className:"smallDiv"},l.a.createElement(N.a,null,l.a.createElement(x.a,{className:"filePrev",src:a.generalImgsrc,fluid:!0,onError:function(e){console.log(e)}})),l.a.createElement(w.a,{placement:"bottom",delay:{show:250,hide:250},overlay:l.a.createElement(I.a,null,"Image size: 1080px")},l.a.createElement("label",{htmlFor:"hidden",className:"labelForHidden"},"Choose image")),l.a.createElement(T.a,{size:"sm",onChange:function(t){!function(a){e.fileToUpload(a)}(t),function(t){a=e.FO,t.target.files&&t.target.files[0]&&(a.generalImgsrc=URL.createObjectURL(t.target.files[0]))}(t),e.editForm(t)},id:"hidden",className:"hidden",type:"file",name:"eventImage"}))),l.a.createElement("label",null,"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright"))}),me=(t(142),t(86)),se=t(53),ue=function(e){var a,t=y,r=Object(n.useState)("GeneralForm"),o=Object(c.a)(r,2),u=o[0],d=o[1],E=Object(n.useState)(e.id),v=Object(c.a)(E,2),C=v[0],k=v[1],O=Object(n.useState)([]),N=Object(c.a)(O,2),F=N[0],T=N[1],w=Object(n.useState)(!1),I=Object(c.a)(w,2),D=I[0],L=I[1],z=Object(n.useState)(""),P=Object(c.a)(z,2),U=P[0],B=P[1],A=Object(n.useState)(""),R=Object(c.a)(A,2),M=R[0],V=R[1],H=Object(n.useState)(!1),$=Object(c.a)(H,2),q=$[0],G=$[1],_=Object(n.useState)(),Q=Object(c.a)(_,2),Y=Q[0],ee=Q[1],te=Object(n.useState)(!1),ne=Object(c.a)(te,2),le=ne[0],re=ne[1],ue=Object(n.useState)(!1),de=Object(c.a)(ue,2),pe=de[0],fe=de[1],Ee=Object(n.useState)({eventPass:"",eventName:"",visibility:"hidden",address:"",lat:"",long:"",eventColor:"",eventImage:"",eventWebUrl:"",bodyText1:"",bodyText2:"",bodyText3:"",bodyText4:"",disclaimer1:"",disclaimer2:"",placeName:"",placeAddress:"",placePhone:"",placeEmail:"",eventTitle:"",MiWebsite:"",MiOrg:"",MiEmail:"",participants:[],programme:[],speakers:[],sponsors:[],mapmarkers:{restaurants:[],hotels:[],others:[]},venue:[],bodyText:[],disclaimer:[]}),ge=Object(c.a)(Ee,2),ve=ge[0],he=ge[1];function ye(e){var a,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!pe){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,i.a.awrap(Ne(e));case 4:if(null!==(a=n.sent)){n.next=7;break}return n.abrupt("return",null);case 7:return n.next=9,i.a.awrap(Oe(a?a.metadata.eventName:null));case 9:t=n.sent,a&&he({eventPass:"".concat(t),eventName:"".concat(a.metadata.eventName),eventImage:"".concat(a.metadata.eventImage),eventColor:"".concat(a.metadata.colorScheme),visibility:"".concat(a.metadata.visibility),address:"".concat(a.metadata.address),lat:"".concat(a.metadata.lat),long:"".concat(a.metadata.long),eventWebUrl:"".concat(a.about.eventWebUrl),bodyText1:"".concat(a.about.bodyText1),bodyText2:"".concat(a.about.bodyText2),bodyText3:"".concat(a.about.bodyText3),bodyText4:"".concat(a.about.bodyText4),disclaimer1:"".concat(a.about.disclaimer1),disclaimer2:"".concat(a.about.disclaimer2),placeName:"".concat(a.about.eventPlace.name),placeAddress:"".concat(a.about.eventPlace.address),placePhone:"".concat(a.about.eventPlace.phone),placeEmail:"".concat(a.about.eventPlace.email),eventTitle:"".concat(a.about.title),MiWebsite:"".concat(a.about.moreInformation.eventWebsite),MiOrg:"".concat(a.about.moreInformation.organizer),MiEmail:"".concat(a.about.moreInformation.email),participants:a.participants,programme:a.programme,speakers:a.speakers,sponsors:a.sponsors,bodyText:a.about.bodyText,disclaimer:a.about.disclaimer,venue:a.venue,mapmarkers:a.mapData});case 11:case"end":return n.stop()}}))}function be(e){d(e.target.name)}function Ce(e){"file"===e.target.type?he(Object(s.a)({},ve,Object(m.a)({},e.target.name,[e.target.value.match(/[^\\/]*$/)[0]]))):he(Object(s.a)({},ve,Object(m.a)({},e.target.name,[e.target.value]))),fe(!0)}function xe(e,a){he(Object(s.a)({},ve,Object(m.a)({},e,a))),fe(!0)}Object(n.useEffect)((function(){C&&ye(C)}),[C]),a="AboutForm"===u?l.a.createElement(j,{editForm:Ce,appendForm:xe,bodyTexts:ve.bodyText,disclaimers:ve.disclaimer,FO:ve,fileToUpload:Te}):"GeneralForm"===u?l.a.createElement(ie,{editForm:Ce,appendForm:xe,FO:ve,fileToUpload:Te,ID:C,latlongForm:function(e,a){he(Object(s.a)({},ve,{lat:e,long:a})),fe(!0)}}):"ParticipantsForm"===u?l.a.createElement(W,{editForm:xe,subForm:ve.participants}):"ProgrammeForm"===u?l.a.createElement(K,{editForm:xe,fileToUpload:Te,subForm:ve.programme}):"SpeakersForm"===u?l.a.createElement(X,{editForm:xe,fileToUpload:Te,subForm:ve.speakers,EditID:C}):"SponsorsForm"===u?l.a.createElement(Z,{editForm:xe,fileToUpload:Te,subForm:ve.sponsors,EditID:C}):"VenueTabForm"===u?l.a.createElement(ae,{editForm:xe,fileToUpload:Te,subForm:ve.venue,EditID:C}):"MapMarkerForm"===u?l.a.createElement(ce,{editForm:xe,fileToUpload:Te,subForm:ve.mapmarkers,EditID:C}):null;var ke={eventPass:"".concat(ve.eventPass),metadata:{eventName:"".concat(ve.eventName),eventImage:"".concat(ve.eventImage),visibility:"".concat(ve.visibility),colorScheme:"".concat(ve.eventColor),address:"".concat(ve.address),lat:"".concat(ve.lat),long:"".concat(ve.long)},about:{eventWebUrl:"".concat(ve.eventWebUrl),eventPlace:{name:"".concat(ve.placeName),address:"".concat(ve.placeAddress),phone:"".concat(ve.placePhone),email:"".concat(ve.placeEmail)},title:"".concat(ve.eventTitle),bodyText1:"".concat(ve.bodyText1),bodyText2:"".concat(ve.bodyText2),bodyText3:"".concat(ve.bodyText3),bodyText4:"".concat(ve.bodyText4),moreInformation:{eventWebsite:"".concat(ve.MiWebsite),organizer:"".concat(ve.MiOrg),email:"".concat(ve.MiEmail)},disclaimer1:"".concat(ve.disclaimer1),disclaimer2:"".concat(ve.disclaimer2)},participants:ve.participants,programme:ve.programme,speakers:ve.speakers,sponsors:ve.sponsors,venue:ve.venue,mapData:ve.mapmarkers};function Se(e){var a,n=localStorage.getItem("Session");for(var l in C?(a="/updateEvent",e.id=C,ee("Creating Event")):(a="/createEvent",ee("Editing Event")),G(!0),e.mapData)for(var r in e.mapData[l])if(""===e.mapData[l][r].lat||""===e.mapData[l][r].long)return G(!1),we("Error","Map Marker: Missing latitude and/or longitude"),null;return""===e.eventPass?(G(!1),we("Error","Password field is empty"),null):""===e.metadata.lat||""===e.metadata.long?(G(!1),we("Error","latitude and/or longitude is empty"),null):void h.a.post(t+a,e,{headers:{Authorization:"Bearer "+n}}).then((function(e){var a;C?a=C:(k(e.data._id),a=e.data._id),F.length>0?(ee("Uploading files . . ."),function(e,a){var t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(e.length>0&&t<3)){n.next=12;break}return n.next=4,i.a.awrap(Fe(e[0].file,"myFiles",a));case 4:if(!n.sent){n.next=9;break}t=0,e.splice(0,1),n.next=10;break;case 9:t++;case 10:n.next=1;break;case 12:t>=3?(G(!1),we("Error","Failed to upload a file after multiple attempts")):(G(!1),we("Success","Changes were saved"));case 13:case"end":return n.stop()}}))}(F,a)):(G(!1),we("Success","Changes were saved")),fe(!1)})).catch((function(e){e.response?(G(!1),we("Error","".concat(e.response.data.message)),401===e.response.status&&re(!0)):(G(!1),we("Error","Cannot connect to the server"))}))}function Oe(e){return h.a.get(t+"/findEventPlaintextPass",{headers:{Authorization:"Bearer "+localStorage.getItem("Session")}}).then((function(a){var t="";for(var n in a.data)if(a.data[n].eventName===e){t=a.data[n].eventPass;break}return t})).catch((function(e){return console.log(e),e.response&&401===e.response.status&&re(!0),""}))}function Ne(e){return h.a.post(t+"/findEventAdmin",{id:e},{headers:{Authorization:"Bearer "+localStorage.getItem("Session")}}).then((function(e){return e.data})).catch((function(e){return e.response&&401===e.response.status&&re(!0),null}))}function Fe(e,a,n){var l=new FormData;return l.append("id",n),l.append("myFiles",e),ee("Processing: "+e.name),h.a.post(t+"/saveFile",l,{headers:{"Content-Type":!1,processdata:!1,Authorization:"Bearer "+localStorage.getItem("Session")}}).then((function(a){return ee("Successfully sent file: "+e.name),!0})).catch((function(e){return 401===e.response.status&&re(!0),!1}))}function Te(e){var a,t=F,n=e.target.files[0],l=e.target.name,r=!1;for(a=0;a<t.length;a++){if("eventImage"===e.target.name&&t[a].bound===e.target.name){r=!0;break}if(n&&t[a].file.name===n.name){r=!0;break}}r&&t.splice(a,1),t.push({category:l,file:n,bound:e.target.name}),T(t)}function we(e,a){B(e),V(a),L(!0)}return l.a.createElement("div",{id:"CreateEventForm"},l.a.createElement(S.a,{show:q,backdrop:"static",keyboard:!1},l.a.createElement(S.a.Header,null,"Processing request ",l.a.createElement(me.a,{animation:"border"})),l.a.createElement(S.a.Body,null,Y)),l.a.createElement(S.a,{show:le,backdrop:"static",keyboard:!1},l.a.createElement(S.a.Header,null,"Authentication token has expired. Please reauthenticate and try again."),l.a.createElement(S.a.Body,null,l.a.createElement(b,{changeContent:function(){},visibility:re,EventID:C,return:function(e){ye(e)}}))),l.a.createElement("div",null,l.a.createElement(p.a,{style:{marginTop:"120px"}},l.a.createElement(f.a,null,a))),l.a.createElement("div",{style:{position:"fixed",top:"0",width:"100%",backgroundColor:"white",zIndex:"2"}},l.a.createElement(oe.a,{expand:"lg",style:{display:"flex",paddingLeft:"50px",paddingRight:"50px",justifyContent:"center",alignItems:"center",flexDirection:"row",backgroundColor:"white"}},l.a.createElement(g.a,{style:{flex:"1"},className:"otherButtons",onClick:function(){pe?window.confirm("Are you sure?! Unsubmitted events are not saved!")&&e.changeContent("AdminScreen"):e.changeContent("AdminScreen")}},"Return to Main Menu"),l.a.createElement("div",{style:{display:"flex",flex:"6",alignContent:"center",justifyContent:"center",flexDirection:"row"}},l.a.createElement(x.a,{src:"https://pbs.twimg.com/profile_images/572706560015470592/Jszif-0y_normal.png",style:{marginRight:"10px"}}),l.a.createElement(oe.a.Brand,null,l.a.createElement("h3",null,ve.eventName?"".concat(ve.eventName):null))),l.a.createElement(g.a,{style:{flex:"1"},className:"otherButtons",onClick:function(){return Se(ke)}},"Save Changes")),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(J.a,{className:"navbarButtons",style:{display:"flex",flexWrap:"wrap"}},l.a.createElement(g.a,{name:"GeneralForm",onClick:be,className:"GeneralForm"===u?"active":"inactive"},"General"),l.a.createElement(g.a,{name:"AboutForm",onClick:be,className:"AboutForm"===u?"active":"inactive"},"About"),l.a.createElement(g.a,{name:"ParticipantsForm",onClick:be,className:"ParticipantsForm"===u?"active":"inactive"},"Participants"),l.a.createElement(g.a,{name:"ProgrammeForm",onClick:be,className:"ProgrammeForm"===u?"active":"inactive"},"Programme"),l.a.createElement(g.a,{name:"SpeakersForm",onClick:be,className:"SpeakersForm"===u?"active":"inactive"},"Speakers"),l.a.createElement(g.a,{name:"SponsorsForm",onClick:be,className:"SponsorsForm"===u?"active":"inactive"},"Sponsors"),l.a.createElement(g.a,{name:"VenueTabForm",onClick:be,className:"VenueTabForm"===u?"active":"inactive"},"Venue"),l.a.createElement(g.a,{name:"MapMarkerForm",onClick:be,className:"MapMarkerForm"===u?"active":"inactive"},"Map Marker")))),l.a.createElement("div",{style:{position:"fixed",top:"100px",right:"20px",zIndex:"5000"}},l.a.createElement(se.a,{onClose:function(){return L(!1)},show:D,delay:5e3,style:{zIndex:"5"},autohide:!0},l.a.createElement(se.a.Header,{className:"Success"===U?"text-success":"Error"===U?"text-danger":""},U),l.a.createElement(se.a.Body,null,M))))},de=function(){var e,a=Object(n.useState)(localStorage.getItem("Session")?"AdminScreen":"LoginScreen"),t=Object(c.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(null),m=Object(c.a)(i,2),s=m[0],u=m[1];return Object(n.useEffect)((function(){null!=s&&(window.scrollTo(0,0),o("CreateScreen"))}),[s]),Object(n.useEffect)((function(){"AdminScreen"!==r&&"LoginScreen"!==r||u(null)}),[r]),"LoginScreen"===r&&(e=l.a.createElement("div",null,l.a.createElement(b,{changeContent:o,visibility:function(){}}))),"CreateScreen"===r?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(ue,{changeContent:o,id:s})):"AdminScreen"===r&&(e=l.a.createElement(O,{changeContent:o,readSession:function(){return localStorage.getItem("Session")},changeSession:function(e){""===e?(console.log("delete session"),localStorage.clear()):localStorage.setItem("Session",e)},changeID:u})),l.a.createElement("div",{className:"App"},e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(r.render)(l.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},74:function(e,a){},90:function(e,a,t){e.exports=t(144)},95:function(e,a,t){},96:function(e,a,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.fd630809.chunk.js.map